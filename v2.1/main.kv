#: import NoTransition kivy.uix.screenmanager.NoTransition
#: import MapView kivy_garden.mapview.MapView

WindowManager:
    transition: NoTransition()
    Home:
    Notikumi:
    Veikals:
    FAQ:
    ParMums:
    Pieslegties:
    Registreties:

<Home>:
    name: "home"
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'images/home-hero.jpg'

    rows: 2
    Navbar:
    Label:
        text: "Home screen"

<Notikumi>:
    name: "notikumi"

    rows: 2
    Navbar:
    Map:
        lat: 56.96
        lon: 24.5
        zoom: 7

<Veikals>:
    name: "veikals"

    rows: 2
    Navbar:
    Label:
        text: "Seit vares pirkt"

<FAQ>:
    name: "faq"

    rows: 2
    Navbar:
    Label:
        text: "Seit bus atbildes uz biezak uzdotajiem jautajumiem"

<ParMums>:
    name: "parmums"

    rows: 2
    Navbar:
    Label:
        text: "Seit bus nedaudz uzrakstits par mums"

<Pieslegties>:
    email: email
    pwd: pwd
    noti: noti
    name: "pieslegties"

    rows: 2
    Navbar:
    FloatLayout:
        Label:
            text : "E-pasts: "
            size_hint : 0.2, 0.05
            pos_hint : {"x":0.25, "top":0.67}
        TextInput:
            id : email
            multiline :False
            size_hint : 0.3, 0.05
            pos_hint : {"x" : 0.45, "top" : 0.67}
        Label:
            text : "Parole: "
            size_hint : 0.2, 0.05
            pos_hint : {"x" : 0.25, "top" : 0.6}
        TextInput:
            id : pwd
            multiline :False
            size_hint : 0.3, 0.05
            pos_hint : {"x" : 0.45, "top" : 0.6}
        Button:
            text : "Pieslēgties"
            size_hint : 0.3, 0.07
            pos_hint : {"x" : 0.4, "top" : 0.5}
            on_release: 
                root.login()
        Label:
            id: noti
            text: ""
            size_hint : 0.3, 0.07
            pos_hint : {"x" : 0.4, "top" : 0.4}

<Registreties>:
    user: user
    email: email
    pwd: pwd
    pwdc: pwdc
    noti: noti
    name: "registreties"

    rows: 2
    Navbar:
    FloatLayout:
        Label:
            text : "Lietotājvārds: "
            size_hint : 0.2, 0.05
            pos_hint : {"x":0.25, "top":0.75}
        TextInput:
            id : user
            multiline :False
            size_hint : 0.3, 0.05
            pos_hint : {"x" : 0.45, "top" : 0.75}
        Label:
            text : "E-pasts: "
            size_hint : 0.2, 0.05
            pos_hint : {"x":0.25, "top":0.68}
        TextInput:
            id : email
            multiline :False
            size_hint : 0.3, 0.05
            pos_hint : {"x" : 0.45, "top" : 0.68}
        Label:
            text : "Parole: "
            size_hint : 0.2, 0.05
            pos_hint : {"x" : 0.25, "top" : 0.61}
        TextInput:
            id : pwd
            multiline :False
            size_hint : 0.3, 0.05
            pos_hint : {"x" : 0.45, "top" : 0.61}
        Label:
            text : "Apstipriniet paroli: "
            size_hint : 0.2, 0.05
            pos_hint : {"x" : 0.25, "top" : 0.54}
        TextInput:
            id : pwdc
            multiline :False
            size_hint : 0.3, 0.05
            pos_hint : {"x" : 0.45, "top" : 0.54}
        Button:
            text : "Reģistrēties"
            size_hint : 0.3, 0.07
            pos_hint : {"x" : 0.4, "top" : 0.44}
            on_release: 
                root.signup()
        Label:
            id: noti
            text: ""
            size_hint : 0.3, 0.07
            pos_hint : {"x" : 0.4, "top" : 0.34}

<Navbar@GridLayout>:
    size_hint: 1, 0.15
    cols: 2
    MainNavbar:
    LoginNavbar:

<MainNavbar@GridLayout>:
    cols: 5
    RoundedActiveButton:
        text: "Home"
        on_release:
            app.root.current = "home"
    RoundedButton:
        text: "Notikumi"
        on_release:
            app.root.current = "notikumi"
    RoundedButton:
        text: "Veikals"
        on_release:
            app.root.current = "veikals"
    RoundedButton:
        text: "FAQ"
        on_release:
            app.root.current = "faq"
    RoundedButton:
        text: "Par Mums"
        on_release:
            app.root.current = "parmums"

<LoginNavbar@GridLayout>:
    cols: 2
    RoundedButton:
        text: "Pieslēgties"
        on_release:
            app.root.current = "pieslegties"
    RoundedButton:
        text: "Reģistrēties"
        on_release:
            app.root.current = "registreties"

<RoundedButton@Button>
    background_color: (0, 0, 0, 0)
    background_normal: ''
    canvas.before:
        Color:
            rgba: (32/255, 30/255, 31/255, 1)
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [15]

<RoundedActiveButton@Button>
    background_color: (0, 0, 0, 0)
    background_normal: ''
    canvas.before:
        Color:
            rgba: (103/255, 148/255, 54/255, 1)
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [15]